<div class="row">
  <a class="btn btn-link" ui-sref="guest">
    <span class="glyphicon glyphicon-arrow-left"></span>
    <span>back</span>
  </a>
</div>

<div class="t-page">
  <h2>Apartment Search</h2>

  <div class="row">
    <div class="col-lg-10 col-md-10 col-sm-8 col-xs-8 col-lg-offset-1 col-md-offset-1 col-sm-offset-2 col-xs-offset-2">

      <form ng-submit="vm.frm.$valid && vm.search()" name="vm.frm" class="form-horizontal">

        <div class="form-group">
          <label class="control-label col-lg-3 col-md-3 col-sm-4 col-xs-12">
            No Of Bedrooms</label>
          <div class="col-lg-9 col-md-9 col-sm-8 col-xs-12">
            <select ng-model="vm.noOfBedrooms" name="noOfBedrooms" class="form-control"
                    ng-required="!(vm.patios || vm.noOfBathrooms)">
              <option value="0">Studio</option>
              <option value="1">1 Bed room</option>
              <option value="2">2 Bed room</option>
              <option value="3">3 Bed room</option>
            </select>
            <span class="error"
                  ng-show="vm.frm.noOfBedrooms.$error.required && vm.frm.$submitted">Please enter a value</span>
          </div>
        </div>

        <div class="form-group">
          <label class="control-label col-lg-3 col-md-3 col-sm-4 col-xs-12">
            No Of Bathrooms
          </label>
          <div class="col-lg-9 col-md-9 col-sm-8 col-xs-12">
            <select ng-model="vm.noOfBathrooms" name="noOfBathrooms" class="form-control">
              <option value="1">1 Bath room</option>
              <option value="2">2 Bath room</option>
              <option value="3">3 Bath room</option>
            </select>
          </div>
        </div>

        <div class="form-group">
          <label class="control-label col-lg-3 col-md-3 col-sm-4 col-xs-12">
            Garages
          </label>
          <div class="col-lg-9 col-md-9 col-sm-8 col-xs-12">
            <select ng-model="vm.garages" name="garages" class="form-control">
              <option value="0">0</option>
              <option value="1">1</option>
              <option value="2">2</option>
            </select>
          </div>
        </div>

        <div class="form-group">
          <div class="col-lg-12 col-md-12 col-sm-12 col-xs-12">
            <button class="btn btn-primary" type="submit">Search</button>
          </div>
        </div>

      </form>
    </div>
  </div>

  <div ng-show="vm.searchsuccess">
    <div class="table-responsive" ng-show="vm.results.length !== 0">
      <table class="table table-bordered">
        <thead>
        <tr>
          <th>Apt #</th>
          <th>Building</th>
          <th>Bed rooms</th>
          <th>Bath rooms</th>
          <th>Garages</th>
          <th></th>
        </tr>
        </thead>
        <tbody>
        <tr ng-repeat="r in vm.results">
          <td>{{r.aptNo}}</td>
          <td>{{r.buildingNo}}</td>
          <td>{{r.noOfBedrooms}}</td>
          <td>{{r.noOfBathrooms}}</td>
          <td>{{r.garages}}</td>
          <td>
            <a ui-sref="apt-view({aptId: r.aptId})">View</a>
          </td>
        </tr>
        </tbody>
      </table>
    </div>

    <!-- vm.results is an array of search results -->
    <div ng-show="vm.results.length === 0" class="text-center">
      <span class="label label-warning">No results found</span>
    </div>

  </div>

</div>
